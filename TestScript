-- Créer un menu admin universel pour tout le monde
local player = game.Players.LocalPlayer

-- Créer la GUI du menu
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Text = "Admin Menu"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextSize = 22
titleLabel.TextAlignment = Enum.TextAlignment.Center
titleLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
titleLabel.Parent = frame

-- Bouton pour activer le vol
local flyButton = Instance.new("TextButton")
flyButton.Size = UDim2.new(0, 280, 0, 50)
flyButton.Position = UDim2.new(0.5, -140, 0, 80)
flyButton.Text = "Activate Fly"
flyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
flyButton.Parent = frame

local flying = false
local bodyVelocity

flyButton.MouseButton1Click:Connect(function()
    if not flying then
        -- Activer le vol
        print(player.Name .. " activated Fly!")
        flying = true

        -- Créer un BodyVelocity pour simuler le vol
        bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(400000, 400000, 400000)  -- Force nécessaire pour voler
        bodyVelocity.Velocity = Vector3.new(0, 50, 0)  -- Vitesse de vol
        bodyVelocity.Parent = player.Character.HumanoidRootPart

        -- Maintenir le vol jusqu'à ce que le joueur arrête
        bodyVelocity.Velocity = Vector3.new(0, 50, 0)
    else
        -- Désactiver le vol
        print(player.Name .. " deactivated Fly!")
        flying = false
        if bodyVelocity then
            bodyVelocity:Destroy()  -- Supprimer le BodyVelocity pour arrêter de voler
        end
    end
end)

-- Bouton pour fermer le menu
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 280, 0, 50)
closeButton.Position = UDim2.new(0.5, -140, 0, 150)
closeButton.Text = "Close Menu"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
closeButton.Parent = frame

closeButton.MouseButton1Click:Connect(function()
    -- Fermer le menu admin
    screenGui:Destroy()
end)
