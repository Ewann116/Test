loadstring([[
-- Création du GUI
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = char:WaitForChild("HumanoidRootPart")
local flying = false
local speed = 50

-- Fonction pour activer/désactiver le fly
local function toggleFly()
    flying = not flying

    if flying then
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(0, speed, 0)
        bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        bodyVelocity.Parent = humanoidRootPart

        -- Sauvegarde l'instance pour la supprimer plus tard
        humanoidRootPart:SetAttribute("FlyForce", bodyVelocity)
    else
        local flyForce = humanoidRootPart:GetAttribute("FlyForce")
        if flyForce then
            flyForce:Destroy()
        end
    end
end

-- Création du menu GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 100)
frame.Position = UDim2.new(0.5, -100, 0.5, -50)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.Parent = screenGui

local flyButton = Instance.new("TextButton")
flyButton.Size = UDim2.new(0, 180, 0, 40)
flyButton.Position = UDim2.new(0, 10, 0, 30)
flyButton.Text = "Fly"
flyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
flyButton.Parent = frame

-- Quand on clique sur le bouton "Fly"
flyButton.MouseButton1Click:Connect(function()
    toggleFly()
    if flying then
        flyButton.Text = "Stop Fly"
        flyButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    else
        flyButton.Text = "Fly"
        flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    end
end)
]])()
